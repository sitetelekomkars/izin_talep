<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>S Sport Plus - Temsilci Bilgi Merkezi</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>

    <style>
        /* TASARIM AYARLARI */
        :root { --primary: #0e1b42; --secondary: #fabb00; --bg: #f0f2f5; --card-bg: #ffffff; --accent: #d32f2f; --success: #2e7d32; --info: #0288d1; --warning: #ed6c02; --sales: #10b981; --quiz: #8e24aa; }
        body { margin: 0; padding: 0; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: var(--bg); color: #333; user-select: none; }
        
        /* GÄ°RÄ°Å EKRANI */
        #login-screen { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 3000; display: flex; justify-content: center; align-items: center; background: linear-gradient(135deg, #0e1b42 0%, #1a2f6e 100%); }
        
        /* BAKIM EKRANI (GÄ°ZLÄ°) */
        #maintenance-screen { display: none !important; } 

        .login-card { background: white; padding: 40px; border-radius: 15px; text-align: center; width: 320px; box-shadow: 0 20px 50px rgba(0,0,0,0.5); }
        .login-input { width: 100%; padding: 12px; margin: 10px 0; border: 2px solid #ddd; border-radius: 8px; text-align: center; box-sizing: border-box; }
        .login-btn { width: 100%; padding: 12px; background: #fabb00; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; margin-top: 10px; }
        .loading-text { font-size: 0.8rem; color: #666; margin-top: 10px; display: none; }

        /* ANA UYGULAMA */
        #main-app { display: none; }
        .header { background: linear-gradient(135deg, var(--primary) 0%, #1a2f6e 100%); color: white; padding: 20px 30px; position: sticky; top: 0; z-index: 1000; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        .header-top { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
        .developer-badge { position: absolute; top: 20px; right: 30px; background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); padding: 8px 15px; border-radius: 20px; color: #fff; font-size: 0.85rem; backdrop-filter: blur(5px); }

        .control-wrapper { display: flex; gap: 20px; align-items: flex-start; }
        .left-panel { flex: 2; }
        .right-panel { flex: 1; min-width: 300px; }
        
        .search-container { position: relative; width: 100%; margin-bottom: 15px; }
        #searchInput { width: 100%; padding: 12px 20px 12px 45px; border-radius: 8px; border: none; box-sizing: border-box; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .search-icon { position: absolute; left: 15px; top: 50%; transform: translateY(-50%); color: #666; }

        .filter-container { display: flex; gap: 8px; flex-wrap: wrap; }
        .filter-btn { border: none; color: white; padding: 10px 18px; border-radius: 20px; cursor: pointer; transition: 0.2s; display: flex; align-items: center; gap: 5px; font-weight: 600; font-size: 0.9rem; box-shadow: 0 2px 5px rgba(0,0,0,0.2); opacity: 0.85; }
        .filter-btn:hover { opacity: 1; transform: translateY(-2px); }
        .filter-btn.active { opacity: 1; box-shadow: 0 0 0 2px #fff, 0 4px 10px rgba(0,0,0,0.3); transform: scale(1.05); }

        .btn-all { background: linear-gradient(135deg, #4b5563, #1f2937); }
        .btn-tech { background: linear-gradient(135deg, #0e1b42, #1e3a8a); }
        .btn-ikna { background: linear-gradient(135deg, #ed6c02, #e65100); }
        .btn-camp { background: linear-gradient(135deg, #2e7d32, #1b5e20); }
        .btn-info { background: linear-gradient(135deg, #0288d1, #01579b); }
        .btn-stream { background: linear-gradient(135deg, #7b1fa2, #4a148c); }
        .guide-btn { background: linear-gradient(45deg, #0288d1, #01579b); }
        .wizard-btn { background: linear-gradient(45deg, #d32f2f, #c62828); animation: pulse 2s infinite; }
        .sales-btn { background: linear-gradient(45deg, #10b981, #059669); }
        .quiz-btn { background: linear-gradient(45deg, #8e24aa, #ba68c8); }

        .news-ticker-box { background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); border-radius: 12px; padding: 15px; height: 85px; position: relative; cursor: pointer; overflow: hidden; backdrop-filter: blur(5px); transition: 0.3s; display: flex; flex-direction: column; justify-content: center; }
        .news-ticker-box:hover { background: rgba(255,255,255,0.2); border-color: var(--secondary); }
        .ticker-label { font-size: 0.75rem; color: var(--secondary); font-weight: bold; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 5px; display: flex; align-items: center; gap: 5px;}
        .ticker-label i { animation: blink 1.5s infinite; }
        .ticker-content { font-size: 0.95rem; color: white; font-weight: 500; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; line-height: 1.3; animation: slideIn 0.5s ease-out; }

        @keyframes blink { 50% { opacity: 0.5; } }
        @keyframes slideIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.05); } 100% { transform: scale(1); } }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        .container { padding: 20px; max-width: 1600px; margin: 0 auto; }
        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(400px, 1fr)); gap: 20px; }
        .card { background: var(--card-bg); border-radius: 12px; padding: 20px; box-shadow: 0 2px 6px rgba(0,0,0,0.05); border-left: 5px solid var(--info); display: flex; flex-direction: column; transition: transform 0.2s; }
        .card:hover { transform: translateY(-3px); box-shadow: 0 10px 20px rgba(0,0,0,0.1); }
        .card.Teknik { border-left-color: var(--primary); }
        .card.Ä°kna { border-left-color: var(--accent); }
        .card.Kampanya { border-left-color: var(--success); }
        .card.Bilgi { border-left-color: var(--info); }
        .card-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 10px; }
        .card-title { font-weight: 700; font-size: 1.1rem; margin: 0; color: #2c3e50; line-height: 1.4; }
        .badge { font-size: 0.75rem; padding: 4px 8px; border-radius: 6px; background: #eee; text-transform: uppercase; font-weight: 600; }
        .card-content { font-size: 0.95rem; color: #555; margin-bottom: 15px; line-height: 1.5; flex-grow: 1; }
        .script-box { background: #fffdeb; border: 1px solid #f0e68c; padding: 12px; border-radius: 8px; font-style: italic; color: #444; margin-top: auto; position: relative; font-size: 0.92rem; }
        .script-box::before { content: '\f10d'; font-family: 'Font Awesome 6 Free'; font-weight: 900; position: absolute; top: -8px; left: 10px; background: #fffdeb; padding: 0 5px; color: #f0e68c; font-size: 0.8rem; }
        .card-actions { margin-top: 12px; display: flex; justify-content: flex-end; gap: 8px; }
        .btn { padding: 6px 12px; border-radius: 6px; cursor: pointer; border: none; font-weight: 600; font-size: 0.85rem; display: flex; align-items: center; gap: 5px; }
        .btn-copy { background: var(--primary); color: white; }
        .btn-link { background: transparent; border: 1px solid var(--info); color: var(--info); text-decoration: none; }
        .btn-link:hover { background: #e1f5fe; }

        .modal-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 5000; justify-content: center; align-items: center; }
        .modal-content { background: white; width: 90%; max-width: 800px; border-radius: 15px; padding: 30px; position: relative; max-height: 85vh; overflow-y: auto; box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
        .close-modal { position: absolute; top: 15px; right: 20px; font-size: 1.8rem; cursor: pointer; color: #666; font-weight: bold; }
        .swal2-container { z-index: 10000 !important; }

        .news-item { border-left: 4px solid var(--secondary); padding-left: 15px; margin-bottom: 20px; position: relative; }
        .news-date { font-size: 0.85rem; color: #999; font-weight: bold; display: block; }
        .news-title { font-size: 1.1rem; font-weight: bold; color: var(--primary); display: block; }
        .news-tag { display: inline-block; font-size: 0.75rem; padding: 2px 8px; border-radius: 4px; margin-top: 5px; font-weight: bold; }
        .tag-fix { background: #e8f5e9; color: #2e7d32; } 
        .tag-update { background: #fff3e0; color: #ef6c00; } 
        .tag-info { background: #e3f2fd; color: #0277bd; }

        .guide-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); gap: 15px; margin-top: 20px; }
        .guide-item { border: 1px solid #eee; border-radius: 10px; padding: 15px; text-align: center; transition: 0.3s; background: #f8f9fa; cursor: pointer; }
        .guide-item:hover { transform: translateY(-5px); border-color: var(--secondary); box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
        .guide-icon { font-size: 2rem; color: var(--primary); margin-bottom: 10px; }
        .guide-title { font-weight: bold; color: var(--primary); margin-bottom: 5px; display: block; }
        .guide-desc { font-size: 0.9rem; color: #666; margin-bottom: 10px; min-height: 40px; font-style: italic;}
        .guide-tip { background: #e3f2fd; color: #0277bd; padding: 5px; border-radius: 5px; font-size: 0.8rem; font-weight: 600; }
        .pronunciation-badge { color: #e65100; font-size: 0.85rem; font-weight: bold; margin-bottom: 8px; display: block; font-style: italic; }

        .sales-grid { display: flex; flex-direction: column; gap: 15px; margin-top: 20px; }
        .sales-item { border: 1px solid #d1fae5; background: #ecfdf5; border-radius: 10px; padding: 15px 20px; cursor: pointer; transition: all 0.3s ease; position: relative; overflow: hidden; }
        .sales-item:hover { box-shadow: 0 5px 15px rgba(16, 185, 129, 0.2); border-color: var(--sales); }
        .sales-item.active { background: #d1fae5; border-left: 6px solid var(--sales); }
        .sales-header { display: flex; justify-content: space-between; align-items: center; }
        .sales-title { font-weight: 800; color: #065f46; font-size: 1.1rem; margin: 0; }
        .sales-text { display: none; margin-top: 15px; padding-top: 15px; border-top: 1px solid #a7f3d0; font-size: 1rem; color: #374151; line-height: 1.6; animation: fadeIn 0.4s ease-in; }
        .sales-item.active .sales-text { display: block; }

        .quiz-options { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .quiz-btn-opt { padding: 15px; border: 2px solid #eee; background: white; border-radius: 10px; cursor: pointer; }
        .quiz-btn-opt.correct { background: #c8e6c9; border-color: #2e7d32; color: #1b5e20; }
        .quiz-btn-opt.wrong { background: #ffcdd2; border-color: #c62828; color: #b71c1c; }

        .wizard-options { display: flex; flex-direction: column; gap: 10px; }
        .option-btn { padding: 15px; border: 2px solid #eee; border-radius: 10px; background: white; font-size: 1rem; cursor: pointer; text-align: left; }
        .option-btn:hover { border-color: var(--primary); background: #f0f4ff; }
        .result-box { padding: 20px; border-radius: 10px; margin-top: 20px; text-align: center; }
        .res-red { background: #ffebee; border: 2px solid #ef5350; color: #c62828; }
        .res-green { background: #e8f5e9; border: 2px solid #66bb6a; color: #2e7d32; }
        .res-yellow { background: #fff8e1; border: 2px solid #ffca28; color: #f57f17; }
        .restart-btn { margin-top: 20px; background: #555; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; }
        .highlight { background-color: yellow; font-weight: bold; }
    </style>
</head>
<body>

    <div id="login-screen">
        <div class="login-card">
            <i class="fas fa-lock fa-3x" style="color: #0e1b42;"></i>
            <h2>S Sport Plus Temsilci PusulasÄ±</h2>
            <p>Personel GiriÅŸi</p>
            <input type="text" id="usernameInput" class="login-input" placeholder="KullanÄ±cÄ± AdÄ±">
            <input type="password" id="passInput" class="login-input" placeholder="Åifre" onkeyup="enterBas(event)">
            <button class="login-btn" onclick="girisYap()">GiriÅŸ Yap</button>
            <div id="loading-msg" class="loading-text">KullanÄ±cÄ±lar kontrol ediliyor...</div>
            <p id="error-msg" style="color:red; display:none; margin-top:10px;">HatalÄ± KullanÄ±cÄ± AdÄ± veya Åifre!</p>
        </div>
    </div>

    <div id="maintenance-screen"><div class="maintenance-content"><span style="font-size: 4rem;">ğŸ‘©â€ğŸ«</span><h1>Sistem Mola Verdi!</h1><p>Esra Hoca'dan gelecek kritik bilgileri bekliyoruz... ğŸš€</p></div></div>

    <div id="main-app">
        <div class="header">
            <div class="header-top">
                <h1><i class="fas fa-compass"></i> S Sport Plus - Temsilci PusulasÄ±</h1>
                <div class="developer-badge"><i class="fas fa-user-circle"></i> <span id="user-display">Misafir</span></div>
            </div>
            <div class="control-wrapper">
                <div class="left-panel">
                    <div class="search-container"><i class="fas fa-search search-icon"></i><input type="text" id="searchInput" placeholder="HÄ±zlÄ± Ara..." onkeyup="filterContent()"></div>
                    <div class="filter-container">
                        <button class="filter-btn btn-all active" onclick="filterCategory('all')"><i class="fas fa-th-large"></i> TÃ¼mÃ¼</button>
                        <button class="filter-btn btn-tech" onclick="filterCategory('Teknik')"><i class="fas fa-wrench"></i> Teknik</button>
                        <button class="filter-btn btn-ikna" onclick="filterCategory('Ä°kna')"><i class="fas fa-hand-holding-dollar"></i> Ä°kna</button>
                        <button class="filter-btn btn-camp" onclick="filterCategory('Kampanya')"><i class="fas fa-gift"></i> Kampanya</button>
                        <button class="filter-btn btn-info" onclick="filterCategory('Bilgi')"><i class="fas fa-info-circle"></i> Bilgi</button>
                        <a href="https://www.ssportplus.com/yayin-akisi/" target="_blank" class="filter-btn btn-stream"><i class="fas fa-calendar-alt"></i> YayÄ±n AkÄ±ÅŸÄ±</a>
                        <button class="filter-btn guide-btn" onclick="openGuide()">ğŸ“– Spor Rehberi</button>
                        <button class="filter-btn wizard-btn" onclick="openWizard()">âš–ï¸ Ä°ade AsistanÄ±</button>
                        <button class="filter-btn sales-btn" onclick="openSales()">ğŸ“ TeleSatÄ±ÅŸ</button>
                        <button class="filter-btn quiz-btn" onclick="openQuiz()">ğŸ® YarÄ±ÅŸma</button>
                    </div>
                </div>
                <div class="right-panel">
                    <div class="news-ticker-box" onclick="openNews()"><div class="ticker-label"><i class="fas fa-circle" style="font-size:8px;"></i> GÃœNCEL</div><div id="ticker-content" class="ticker-content">Veriler yÃ¼kleniyor...</div></div>
                </div>
            </div>
        </div>
        <div class="container">
            <div id="loading" style="text-align:center; padding:20px; color:#666;"><i class="fas fa-spinner fa-spin fa-2x"></i><br>Veriler Google Tablo'dan Ã§ekiliyor...</div>
            <div class="grid" id="cardGrid"></div>
        </div>
    </div>

    <div id="news-modal" class="modal-overlay"><div class="modal-content"><span class="close-modal" onclick="closeModal('news-modal')">&times;</span><h2 style="color:var(--primary);">ğŸ“¢ Duyurular</h2><div id="news-container"></div></div></div>
    <div id="wizard-modal" class="modal-overlay"><div class="modal-content"><span class="close-modal" onclick="closeModal('wizard-modal')">&times;</span><div id="wizard-body"></div></div></div>
    <div id="guide-modal" class="modal-overlay"><div class="modal-content"><span class="close-modal" onclick="closeModal('guide-modal')">&times;</span><h2 style="text-align:center; color:var(--primary);">ğŸ“– Spor Terimleri & Ä°Ã§erik Rehberi</h2><p style="text-align:center; color:#666;">DetaylÄ± bilgi iÃ§in karta tÄ±klayÄ±nÄ±z.</p><div class="guide-grid" id="guide-grid"></div></div></div>
    <div id="sales-modal" class="modal-overlay"><div class="modal-content"><span class="close-modal" onclick="closeModal('sales-modal')">&times;</span><h2 style="text-align:center; color:var(--sales);">ğŸ“ TeleSatÄ±ÅŸ Scriptleri</h2><p style="text-align:center; color:#666;">Metni okumak iÃ§in baÅŸlÄ±ÄŸa tÄ±klayÄ±nÄ±z.</p><div class="sales-grid" id="sales-grid"></div></div></div>
    <div id="quiz-modal" class="modal-overlay"><div class="modal-content" style="max-width: 600px;"><span class="close-modal" onclick="closeModal('quiz-modal')">&times;</span><h2 style="text-align:center; color:var(--quiz);">ğŸ® Bilgi YarÄ±ÅŸmasÄ±</h2><div id="quiz-body"></div></div></div>

    <script>
        const BAKIM_MODU = false; 
        
        const DATA_SHEET_URL = "https://docs.google.com/spreadsheets/d/e/2PACX-1vR7eIsOqTEhUtHWEiEJzs8mzySd9btRzCG8gsd8xvvz3JFn2bfs3rJl0M4DYdt5NNrNvvrptKYiQyWa/pub?output=csv";
        // !!! BURAYA USERS SHEET LINKI YAPIÅTIRILACAK !!!
        const USERS_SHEET_URL = "https://docs.google.com/spreadsheets/d/e/2PACX-1vR7eIsOqTEhUtHWEiEJzs8mzySd9btRzCG8gsd8xvvz3JFn2bfs3rJl0M4DYdt5NNrNvvrptKYiQyWa/pub?gid=1075778951&single=true&output=csv";

        let database = [], newsData = [], sportsData = [], salesScripts = [], quizQuestions = [], users = [];

        document.addEventListener('contextmenu', event => event.preventDefault());
        document.onkeydown = function(e) { if(e.keyCode == 123) return false; }

        document.addEventListener('DOMContentLoaded', () => {
            Papa.parse(USERS_SHEET_URL, {
                download: true, header: true,
                complete: function(results) { users = results.data; },
                error: function() { console.log("KullanÄ±cÄ± listesi Ã§ekilemedi."); }
            });
        });

        function girisYap() {
            const uName = document.getElementById("usernameInput").value.trim();
            const uPass = document.getElementById("passInput").value.trim();
            const loadingMsg = document.getElementById("loading-msg");

            if(users.length === 0) {
                loadingMsg.style.display = "block";
                Papa.parse(USERS_SHEET_URL, {
                    download: true, header: true,
                    complete: function(results) {
                        users = results.data;
                        loadingMsg.style.display = "none";
                        checkCredentials(uName, uPass);
                    }
                });
            } else { checkCredentials(uName, uPass); }
        }

        function checkCredentials(name, pass) {
            // Girilen ÅŸifreyi MD5 yap
            const hashedPass = CryptoJS.MD5(pass).toString();
            // Tablodaki Username ve Password ile karÅŸÄ±laÅŸtÄ±r
            const user = users.find(u => u.Username === name && u.Password === hashedPass);

            if (user) {
                document.getElementById("login-screen").style.display = "none"; 
                document.getElementById("user-display").innerText = user.Username;
                if (BAKIM_MODU) { document.getElementById("maintenance-screen").style.display = "flex"; } 
                else { document.getElementById("main-app").style.display = "block"; loadContentData(); }
            } else { document.getElementById("error-msg").style.display = "block"; }
        }

        function enterBas(e) { if (e.key === "Enter") girisYap(); }

        function loadContentData() {
            Papa.parse(DATA_SHEET_URL, {
                download: true, header: true,
                complete: function(results) {
                    const rawData = results.data;
                    database = rawData.filter(i => ['card','bilgi','teknik','kampanya','ikna'].includes(i.Type)).map(i => ({ title: i.Title, category: i.Category, text: i.Text, script: i.Script, code: i.Code, link: i.Link }));
                    newsData = rawData.filter(i => i.Type === 'news').map(i => ({ date: i.Date, title: i.Title, desc: i.Text, type: i.Category }));
                    sportsData = rawData.filter(i => i.Type === 'sport').map(i => ({ title: i.Title, icon: i.Icon, desc: i.Text, tip: i.Tip, detail: i.Detail, pronunciation: i.Pronunciation }));
                    salesScripts = rawData.filter(i => i.Type === 'sales').map(i => ({ title: i.Title, text: i.Text }));
                    quizQuestions = rawData.filter(i => i.Type === 'quiz').map(i => ({ q: i.Text, opts: i.QuizOptions.split(','), a: parseInt(i.QuizAnswer) }));

                    document.getElementById('loading').style.display = 'none';
                    renderCards(database);
                    startTicker();
                }
            });
        }

        function renderCards(data) { const container = document.getElementById('cardGrid'); container.innerHTML = ''; if(data.length === 0) { container.innerHTML = '<div style="grid-column:1/-1; text-align:center;">KayÄ±t Yok</div>'; return; } data.forEach(item => { let html = `<div class="card ${item.category}"><div class="card-header"><h3 class="card-title">${highlightText(item.title)}</h3><span class="badge">${item.category}</span></div><div class="card-content"><div>${highlightText(item.text)}</div></div><div class="script-box">${highlightText(item.script)}</div><div class="card-actions"><button class="btn btn-copy" onclick="copyText('${item.script.replace(/'/g, "\\'")}')"><i class="fas fa-copy"></i> Kopyala</button>${item.code ? `<button class="btn btn-copy" style="background:var(--secondary); color:#333;" onclick="copyText('${item.code}')">Kod</button>` : ''}${item.link ? `<a href="${item.link}" target="_blank" class="btn btn-link"><i class="fas fa-external-link-alt"></i> Link</a>` : ''}</div></div>`; container.innerHTML += html; }); }
        function openGuide() { document.getElementById('guide-modal').style.display = 'flex'; const grid=document.getElementById('guide-grid'); grid.innerHTML=''; sportsData.forEach((s, index) => { let pronHtml = s.pronunciation ? `<div class="pronunciation-badge">ğŸ—£ï¸ ${s.pronunciation}</div>` : ''; grid.innerHTML += `<div class="guide-item" onclick="showSportDetail(${index})"><i class="fas ${s.icon} guide-icon"></i><span class="guide-title">${s.title}</span>${pronHtml}<div class="guide-desc">${s.desc}</div><div class="guide-tip"><i class="fas fa-lightbulb"></i> ${s.tip}</div><div style="font-size:0.8rem; color:#999; margin-top:5px;">(Detay iÃ§in tÄ±kla)</div></div>`; }); }
        function showSportDetail(index) { const sport = sportsData[index]; const detailText = sport.detail ? sport.detail : "Bu iÃ§erik iÃ§in henÃ¼z detay eklenmemiÅŸ."; const pronDetail = sport.pronunciation ? `<div style="color:#e65100; font-weight:bold; margin-bottom:15px;">ğŸ—£ï¸ OkunuÅŸu: ${sport.pronunciation}</div>` : ''; Swal.fire({ title: `<i class="fas ${sport.icon}" style="color:#0e1b42;"></i> ${sport.title}`, html: `${pronDetail}<div style="text-align:left; font-size:1rem; line-height:1.6;">${detailText}</div>`, showCloseButton: true, showConfirmButton: false, width: '600px', background: '#f8f9fa' }); }
        function openSales() { document.getElementById('sales-modal').style.display = 'flex'; const grid=document.getElementById('sales-grid'); grid.innerHTML=''; salesScripts.forEach((s, index) => { grid.innerHTML += `<div class="sales-item" id="sales-${index}" onclick="toggleSales('${index}')"><div class="sales-header"><span class="sales-title">${s.title}</span><i class="fas fa-chevron-down" id="icon-${index}" style="color:#10b981;"></i></div><div class="sales-text">${s.text}<div style="text-align:right; margin-top:15px;"><button class="btn btn-copy" onclick="event.stopPropagation(); copyText('${s.text.replace(/'/g, "\\'")}')"><i class="fas fa-copy"></i> Kopyala</button></div></div></div>`; }); }
        function toggleSales(index) { const item = document.getElementById(`sales-${index}`); const icon = document.getElementById(`icon-${index}`); item.classList.toggle('active'); if(item.classList.contains('active')){ icon.classList.replace('fa-chevron-down', 'fa-chevron-up'); } else { icon.classList.replace('fa-chevron-up', 'fa-chevron-down'); } }
        let currentQuestion=0, score=0;
        function openQuiz() { document.getElementById('quiz-modal').style.display='flex'; currentQuestion=0; score=0; showStartScreen(); }
        function showStartScreen() { document.getElementById('quiz-body').innerHTML=`<div class="quiz-final"><h3>HazÄ±r mÄ±sÄ±n?</h3><button class="restart-btn" style="background:var(--quiz);" onclick="showQuestion()">BAÅLA</button></div>`; }
        function showQuestion() { if(currentQuestion>=quizQuestions.length){showResult();return;} const q=quizQuestions[currentQuestion]; let html=`<div class="quiz-score">Soru: ${currentQuestion+1}</div><div class="quiz-question">${q.q}</div><div class="quiz-options">`; q.opts.forEach((opt,i)=>{ html+=`<button class="quiz-btn-opt" onclick="checkAnswer(this, ${i})">${opt}</button>`; }); html+=`</div>`; document.getElementById('quiz-body').innerHTML=html; }
        function checkAnswer(btn,i) { const correct=quizQuestions[currentQuestion].a; document.querySelectorAll('.quiz-btn-opt').forEach(b=>b.disabled=true); if(i===correct){btn.classList.add('correct'); score+=10; Swal.fire({icon:'success',title:'DoÄŸru!',timer:1000,toast:true,position:'top',showConfirmButton:false});}else{btn.classList.add('wrong'); Swal.fire({icon:'error',title:'YanlÄ±ÅŸ!',timer:1000,toast:true,position:'top',showConfirmButton:false});} setTimeout(()=>{currentQuestion++; showQuestion();},1500); }
        function showResult() { document.getElementById('quiz-body').innerHTML=`<div class="quiz-final"><h3>Bitti! Puan: ${score}</h3><button class="restart-btn" onclick="openQuiz()">Tekrar</button></div>`; }
        function filterContent() { const search = document.getElementById('searchInput').value.toLowerCase(); renderCards(database.filter(i => i.title?.toLowerCase().includes(search) || i.text?.toLowerCase().includes(search))); }
        function filterCategory(cat) { document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active')); event.target.closest('button').classList.add('active'); renderCards(cat === 'all' ? database : database.filter(i => i.category === cat)); }
        function highlightText(t) { if(!t) return ""; const s = document.getElementById('searchInput').value.trim(); return s ? t.replace(new RegExp(`(${s})`, 'gi'), '<span class="highlight">$1</span>') : t; }
        function copyText(t) { navigator.clipboard.writeText(t).then(() => Swal.fire({icon:'success', title:'KopyalandÄ±', toast:true, position:'top-end', showConfirmButton:false, timer:1500})); }
        function closeModal(id) { document.getElementById(id).style.display = 'none'; }
        let tickerIndex = 0;
        function startTicker() { const t = document.getElementById('ticker-content'); if(newsData.length === 0) { t.innerHTML = "GÃ¼ncel duyuru yok."; return; } function showNext() { const i = newsData[tickerIndex]; t.style.animation = 'none'; t.offsetHeight; t.style.animation = 'slideIn 0.5s ease-out'; t.innerHTML = `<strong>${i.date}:</strong> ${i.title} - ${i.desc}`; tickerIndex = (tickerIndex + 1) % newsData.length; } showNext(); setInterval(showNext, 5000); }
        function openNews() { document.getElementById('news-modal').style.display = 'flex'; const c = document.getElementById('news-container'); c.innerHTML = ''; newsData.forEach(i => { let cl = i.type === 'fix' ? 'tag-fix' : (i.type === 'update' ? 'tag-update' : 'tag-info'); let tx = i.type === 'fix' ? 'Ã‡Ã¶zÃ¼ldÃ¼' : (i.type === 'update' ? 'DeÄŸiÅŸiklik' : 'Bilgi'); c.innerHTML += `<div class="news-item"><span class="news-date">${i.date}</span><span class="news-title">${i.title}</span><div class="news-desc">${i.desc}</div><span class="news-tag ${cl}">${tx}</span></div>`; }); }
        const wizardSteps={start:{title:"Ä°ade Talebi Analizi",text:"LÃ¼tfen mÃ¼ÅŸterinin durumunu seÃ§iniz:",options:[{text:"Ä°Ã§erik Ä°zlemiÅŸ / KullanÄ±m Var",next:"izleme_var"},{text:"AylÄ±k Paket (Ä°zleme YOK)",next:"aylik_izleme_yok"},{text:"YÄ±llÄ±k Paket (Ä°zleme YOK)",next:"yillik_izleme_yok"},{text:"MÃ¼kerrer (Ã‡ift) Ã‡ekim",next:"mukerrer"},{text:"AynÄ± GÃ¼n YanlÄ±ÅŸlÄ±kla YÄ±llÄ±k AlÄ±m",next:"ayni_gun_yillik"},{text:"Apple / Google Store Ä°ptali",next:"store_iptal"},{text:"Winback Paket GeÃ§iÅŸ Ä°adesi",next:"winback_iade"}]},izleme_var:{result:"red",title:"âŒ Ä°ADE REDDEDÄ°LÄ°R",text:"Ä°Ã§erik izlenmiÅŸse (genel arÄ±za hariÃ§) iade yapÄ±lmaz.",script:"Hizmetimizden aktif olarak faydalandÄ±ÄŸÄ±nÄ±z iÃ§in iade prosedÃ¼rlerimiz gereÄŸi talebinize olumlu yanÄ±t veremiyoruz."},aylik_izleme_yok:{title:"AylÄ±k Paket - Ä°zleme Yok",text:"THH tehdidi var mÄ±?",options:[{text:"Evet/IsrarcÄ±",next:"aylik_teklif"},{text:"HayÄ±r",next:"izleme_var"}]},aylik_teklif:{title:"Ä°ndirim Teklifi",text:"Ã–nce 6AY50 ile indirim teklif et.",options:[{text:"Ä°ndirimi Kabul Etti",next:"indirim_kabul"},{text:"Reddetti (Tam Ä°ade)",next:"tam_iade"}]},yillik_izleme_yok:{title:"YÄ±llÄ±k Paket",text:"Paket kampanyalÄ± mÄ±ydÄ±?",options:[{text:"HayÄ±r (Standart)",next:"yillik_standart"},{text:"Evet (KampanyalÄ±)",next:"yillik_kampanyali"}]},yillik_standart:{title:"Standart YÄ±llÄ±k",text:"SÄ±rasÄ±yla: 1. YILLIKLOCA Ä°ndirimi, 2. AylÄ±ÄŸa GeÃ§iÅŸ Ã¶ner.",options:[{text:"Teklifi Kabul Etti",next:"islem_tamam"},{text:"Hepsini Reddetti (Tam Ä°ade)",next:"tam_iade"}]},yillik_kampanyali:{title:"KampanyalÄ± YÄ±llÄ±k",text:"Sadece AylÄ±ÄŸa GeÃ§iÅŸ Ã¶nerilebilir.",options:[{text:"AylÄ±ÄŸa GeÃ§iÅŸi Kabul Etti",next:"ayliga_gecis"},{text:"Reddetti (Tam Ä°ade)",next:"tam_iade"}]},mukerrer:{title:"MÃ¼kerrer Ã‡ekim",text:"15 gÃ¼n iÃ§inde ve AynÄ± Cihaz/IP mi?",options:[{text:"Evet",next:"mukerrer_iade"},{text:"HayÄ±r",next:"izleme_var"}]},ayni_gun_yillik:{title:"AynÄ± GÃ¼n YÄ±llÄ±k",text:"24 saat iÃ§inde mi?",options:[{text:"Evet",next:"bir_defaya_mahsus"},{text:"HayÄ±r",next:"izleme_var"}]},store_iptal:{result:"red",title:"âŒ BÄ°Z Ä°PTAL EDEMEYÄ°Z",text:"Apple/Google alÄ±mlarÄ± telefondan yapÄ±lmalÄ±."},winback_iade:{result:"yellow",title:"âš ï¸ SADECE 2. PAKET Ä°ADE",text:"Sadece son alÄ±nan indirimli paket iade edilebilir."},indirim_kabul:{result:"green",title:"âœ… Ä°NDÄ°RÄ°M TANIMLA",text:"139.5 TL iade yapÄ±ldÄ±."},tam_iade:{result:"green",title:"âœ… TAM Ä°ADE YAP",text:"Teklifler reddedildi, iade saÄŸla."},mukerrer_iade:{result:"green",title:"âœ… MÃœKERRER Ä°ADE",text:"Fazla paketi iade et."},ayliga_gecis:{result:"green",title:"âœ… AYLIK GEÃ‡Ä°Å",text:"YÄ±llÄ±k iptal, aylÄ±k tanÄ±mla, farkÄ± iade et."},bir_defaya_mahsus:{result:"green",title:"âœ… TEK SEFERLÄ°K Ä°ADE",text:"YÄ±llÄ±k iade, aylÄ±k devam."},islem_tamam:{result:"green",title:"âœ… Ä°ÅLEM TAMAM",text:"Teklif kabul edildi."}};
        function openWizard(){document.getElementById('wizard-modal').style.display='flex';renderStep('start');}
        function renderStep(k){const s=wizardSteps[k];const b=document.getElementById('wizard-body');let h=`<h2>${s.title||''}</h2>`;if(s.result){let i=s.result==='red'?'ğŸ›‘':(s.result==='green'?'âœ…':'âš ï¸');let c=s.result==='red'?'res-red':(s.result==='green'?'res-green':'res-yellow');h+=`<div class="result-box ${c}"><div style="font-size:3rem;margin-bottom:10px;">${i}</div><h3>${s.title}</h3><p>${s.text}</p>${s.script?`<div class="script-box">${s.script}</div>`:''}</div><button class="restart-btn" onclick="renderStep('start')"><i class="fas fa-redo"></i> BaÅŸa DÃ¶n</button>`;}else{h+=`<p>${s.text}</p><div class="wizard-options">`;s.options.forEach(o=>{h+=`<button class="option-btn" onclick="renderStep('${o.next}')"><i class="fas fa-chevron-right"></i> ${o.text}</button>`;});h+=`</div>`;if(k!=='start')h+=`<button class="restart-btn" onclick="renderStep('start')" style="background:#eee;color:#333;margin-top:15px;">Geri DÃ¶n</button>`;}b.innerHTML=h;}
    </script>
</body>
</html>
